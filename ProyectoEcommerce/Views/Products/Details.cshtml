@model ProyectoEcommerce.Models.Product

@{
    ViewData["Title"] = "Details";
}

<h1>Details</h1>

<div>
    <h4>Product</h4>
    <hr />
    <div class="row">
        <div class="col-md-4">
            @{
                string imgSrc;
                if (!string.IsNullOrEmpty(Model.ImageUrl) && (Model.ImageUrl.StartsWith("http://") || Model.ImageUrl.StartsWith("https://")))
                {
                    imgSrc = Model.ImageUrl;
                }
                else if (!string.IsNullOrEmpty(Model.ImageUrl))
                {
                    var localPath = Model.ImageUrl.StartsWith("~") ? Model.ImageUrl : ("~/" + Model.ImageUrl.TrimStart('/'));
                    imgSrc = Url.Content(localPath);
                }
                else
                {
                    imgSrc = Url.Content("~/images/products/placeholder.jpg");
                }
            }
            @if (imgSrc.StartsWith("http"))
            {
                <img src="@imgSrc" alt="@Model.Name" class="img-fluid" />
            }
            else
            {
                <img src="@imgSrc" alt="@Model.Name" class="img-fluid" asp-append-version="true" />
            }
        </div>
        <div class="col-md-8">
            <dl class="row">
                <dt class="col-sm-2">@Html.DisplayNameFor(m => m.Name)</dt>
                <dd class="col-sm-10">@Html.DisplayFor(m => m.Name)</dd>

                <dt class="col-sm-2">@Html.DisplayNameFor(m => m.Description)</dt>
                <dd class="col-sm-10">@Html.DisplayFor(m => m.Description)</dd>

                <dt class="col-sm-2">@Html.DisplayNameFor(m => m.Price)</dt>
                <dd class="col-sm-10">@Html.DisplayFor(m => m.Price)</dd>

                <dt class="col-sm-2">@Html.DisplayNameFor(m => m.Available)</dt>
                <dd class="col-sm-10">@Html.DisplayFor(m => m.Available)</dd>
            </dl>

            <a asp-controller="Home" asp-action="Index">Volver al inicio</a> |
        </div>
    </div>
</div>
